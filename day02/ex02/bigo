O(n^2) time, in worst case.
O(log(n)) space, partitioning substrings requires more space.